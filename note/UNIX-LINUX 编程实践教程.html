<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>UNIX-LINUX 编程实践教程 | 🔞の領域</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/image/favicon.png">
    <meta name="description" content="　我们立足于美利坚合众国, 针对年满18周岁非大陆全球华人开发, 受北美法律保护.　 　　　　　　　　　　　　　未經授權禁止复制或建立镜像. 　　　　　　　　　　　　We are based in the United States of America, for over 18 years of age non-mainland Chinese open world, by the North American legal protection. Unauthorized reproduction prohibited or create mirror.">
    <link rel="preload" href="/assets/css/0.styles.eda1073d.css" as="style"><link rel="preload" href="/assets/js/app.5aa78949.js" as="script"><link rel="preload" href="/assets/js/2.db8a1bd9.js" as="script"><link rel="preload" href="/assets/js/35.31254244.js" as="script"><link rel="prefetch" href="/assets/js/10.cb22b5cc.js"><link rel="prefetch" href="/assets/js/11.7fc433a5.js"><link rel="prefetch" href="/assets/js/12.26e9cadb.js"><link rel="prefetch" href="/assets/js/13.1258d0f5.js"><link rel="prefetch" href="/assets/js/14.99ec5e93.js"><link rel="prefetch" href="/assets/js/15.5e075e9b.js"><link rel="prefetch" href="/assets/js/16.3ae89ebf.js"><link rel="prefetch" href="/assets/js/17.a0578cc8.js"><link rel="prefetch" href="/assets/js/18.57573e35.js"><link rel="prefetch" href="/assets/js/19.1921cef9.js"><link rel="prefetch" href="/assets/js/20.21e6a458.js"><link rel="prefetch" href="/assets/js/21.85d787bf.js"><link rel="prefetch" href="/assets/js/22.463f771e.js"><link rel="prefetch" href="/assets/js/23.a24c9494.js"><link rel="prefetch" href="/assets/js/24.4e9dffaf.js"><link rel="prefetch" href="/assets/js/25.48966cca.js"><link rel="prefetch" href="/assets/js/26.79a3a1f7.js"><link rel="prefetch" href="/assets/js/27.d86ae0b6.js"><link rel="prefetch" href="/assets/js/28.3085660e.js"><link rel="prefetch" href="/assets/js/29.b25e9aa3.js"><link rel="prefetch" href="/assets/js/3.bfe9edf0.js"><link rel="prefetch" href="/assets/js/30.32eb4625.js"><link rel="prefetch" href="/assets/js/31.c255a7cd.js"><link rel="prefetch" href="/assets/js/32.d4a5e1b3.js"><link rel="prefetch" href="/assets/js/33.939416f6.js"><link rel="prefetch" href="/assets/js/34.1527656e.js"><link rel="prefetch" href="/assets/js/36.4c9eea64.js"><link rel="prefetch" href="/assets/js/37.dcba8e22.js"><link rel="prefetch" href="/assets/js/38.660f4f18.js"><link rel="prefetch" href="/assets/js/39.36808ac4.js"><link rel="prefetch" href="/assets/js/4.721e6361.js"><link rel="prefetch" href="/assets/js/40.5e3d825d.js"><link rel="prefetch" href="/assets/js/41.8bc35558.js"><link rel="prefetch" href="/assets/js/42.3d9ee979.js"><link rel="prefetch" href="/assets/js/43.d8a9355a.js"><link rel="prefetch" href="/assets/js/44.3b96fdab.js"><link rel="prefetch" href="/assets/js/45.5a397a89.js"><link rel="prefetch" href="/assets/js/46.2c015a12.js"><link rel="prefetch" href="/assets/js/47.cb620ad3.js"><link rel="prefetch" href="/assets/js/48.63e77fd7.js"><link rel="prefetch" href="/assets/js/49.3a1743f4.js"><link rel="prefetch" href="/assets/js/5.9c8aa7de.js"><link rel="prefetch" href="/assets/js/50.858e22ae.js"><link rel="prefetch" href="/assets/js/51.d5ea8da3.js"><link rel="prefetch" href="/assets/js/6.cfcb9227.js"><link rel="prefetch" href="/assets/js/7.7ef2cd09.js"><link rel="prefetch" href="/assets/js/8.8cae79fc.js"><link rel="prefetch" href="/assets/js/9.116ce45e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.eda1073d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">🔞の領域</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/cs/" class="nav-link">
  计算机基础
</a></div><div class="nav-item"><a href="/network/" class="nav-link">
  网络编程
</a></div><div class="nav-item"><a href="/server/" class="nav-link">
  后端开发
</a></div><div class="nav-item"><a href="/web/" class="nav-link">
  前端开发
</a></div><div class="nav-item"><a href="/opensource/" class="nav-link">
  开源软件
</a></div><div class="nav-item"><a href="/note/" class="nav-link router-link-active">
  读书笔记
</a></div><div class="nav-item"><a href="/manual/" class="nav-link">
  开发手册
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div> <a href="https://github.com/louistin/blog.liteman.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/cs/" class="nav-link">
  计算机基础
</a></div><div class="nav-item"><a href="/network/" class="nav-link">
  网络编程
</a></div><div class="nav-item"><a href="/server/" class="nav-link">
  后端开发
</a></div><div class="nav-item"><a href="/web/" class="nav-link">
  前端开发
</a></div><div class="nav-item"><a href="/opensource/" class="nav-link">
  开源软件
</a></div><div class="nav-item"><a href="/note/" class="nav-link router-link-active">
  读书笔记
</a></div><div class="nav-item"><a href="/manual/" class="nav-link">
  开发手册
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div> <a href="https://github.com/louistin/blog.liteman.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/note/" class="sidebar-link">读书笔记</a></li><li><a href="/note/Linux-UNIX 系统编程手册.html" class="sidebar-link">Linux-UNIX 系统编程手册</a></li><li><a href="/note/UNIX-LINUX 编程实践教程.html" class="active sidebar-link">UNIX-LINUX 编程实践教程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/UNIX-LINUX 编程实践教程.html#_01-unix-系统编程概述" class="sidebar-link">01 - Unix 系统编程概述</a></li><li class="sidebar-sub-header"><a href="/note/UNIX-LINUX 编程实践教程.html#_02-用户-文件操作与联机帮助-编写-who-命令" class="sidebar-link">02 - 用户, 文件操作与联机帮助: 编写 who 命令</a></li><li class="sidebar-sub-header"><a href="/note/UNIX-LINUX 编程实践教程.html#_03-目录与文件属性-编写-ls" class="sidebar-link">03 - 目录与文件属性: 编写 ls</a></li></ul></li><li><a href="/note/TCP-IP 详解.html" class="sidebar-link">TCP/IP 详解</a></li><li><a href="/note/MySQL 必知必会.html" class="sidebar-link">MySQL 必知必会</a></li><li><a href="/note/第一本 Docker 书.html" class="sidebar-link">第一本 Docker 书</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="unix-linux-编程实践教程"><a href="#unix-linux-编程实践教程" class="header-anchor">#</a> UNIX-LINUX 编程实践教程</h1> <blockquote><p align="left" style="font-family:Arial;font-size:80%;color:#C0C0C0;">全文字数 237 words  |  阅读时间 2 mins</p></blockquote> <p></p><div class="table-of-contents"><ul><li><a href="#_01-unix-系统编程概述">01 - Unix 系统编程概述</a><ul><li><a href="#系统编程">系统编程</a></li><li><a href="#理解-unix">理解 Unix</a></li></ul></li><li><a href="#_02-用户-文件操作与联机帮助-编写-who-命令">02 - 用户, 文件操作与联机帮助: 编写 who 命令</a><ul><li><a href="#unix-文件操作">Unix 文件操作</a></li><li><a href="#faq">FAQ</a></li></ul></li><li><a href="#_03-目录与文件属性-编写-ls">03 - 目录与文件属性: 编写 ls</a></li></ul></div><p></p> <hr> <h2 id="_01-unix-系统编程概述"><a href="#_01-unix-系统编程概述" class="header-anchor">#</a> 01 - Unix 系统编程概述</h2> <h3 id="系统编程"><a href="#系统编程" class="header-anchor">#</a> 系统编程</h3> <ul><li><p>用来容纳操作系统的内存空间叫做系统空间, 容纳应用程序的空间叫做用户空间. 操作系统也叫内核.</p></li> <li><p>编写普通程序时, 可以认为程序是直接连接到键盘鼠标显示器等设备, 但是在系统编程时, 必须对系统的
结构和工作方式有更深的了解, 要知道内核提供哪些服务(系统调用), 如何使用它们, 系统有哪些资
源和设备, 不同的资源和设备该如何操作.</p> <ul><li>系统资源
<ul><li>处理器 Processer</li> <li>输入输出 I/O</li> <li>进程管理 Process Managerment</li> <li>内存 Memory</li> <li>设备 Device</li> <li>计时器 Timer</li> <li>进程间通信 Interprocess Communication</li> <li>网络 Networking</li></ul></li></ul></li> <li><p>系统编程学习方法</p> <ul><li>分析程序 (它能做什么)</li> <li>学习系统调用 (它是如何实现的)</li> <li>编程实现 (能不能自己编写一个)</li></ul></li></ul> <h3 id="理解-unix"><a href="#理解-unix" class="header-anchor">#</a> 理解 Unix</h3> <ul><li><p>用户登录时, 系统会启动 <code>shell</code> 进程, 然后将用户交给这个进程, 由这个进程处理用户请求, 每个
用户都有属于自己的 <code>shell</code> 进程. 用户注销时, 内核会结束所有分配给这个用户的进程.</p></li> <li><p>Unix 系统中, 文件和目录备被组织成树状结构</p> <p><strong>目录树</strong><br> <img src="/image/note/uulp/01/dir_tree_001.webp" alt="目录树"></p> <ul><li>目录操作命令
<ul><li><code>ls</code></li> <li><code>cd</code></li> <li><code>pwd</code></li> <li><code>mkdir</code> <code>rmdir</code></li></ul></li></ul></li> <li><p>文件操作</p> <ul><li>文件名命名规则
<ul><li>最长 250 字符</li> <li>允许大小写字符, 标点符号, 空格, tab, 回车</li> <li>不允许 &quot;/&quot;</li></ul></li> <li>文件操作命令
<ul><li><code>cat</code> <code>more</code> <code>less</code> <code>pg</code></li> <li><code>cp</code></li> <li><code>mv</code></li> <li><code>rm</code></li> <li><code>lpr</code> <code>lp</code></li></ul></li> <li>文件许可权限<div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>louis@louis build<span class="token punctuation">]</span>$ ll <span class="token function">more</span>
-rwxr-xr-x. <span class="token number">1</span> louis louis <span class="token number">22944</span> Apr <span class="token number">15</span> <span class="token number">21</span>:28 <span class="token function">more</span>

-rwx  r-x    r-x      <span class="token builtin class-name">read</span> <span class="token function">write</span> execute
user  group  other
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li></ul> <h2 id="_02-用户-文件操作与联机帮助-编写-who-命令"><a href="#_02-用户-文件操作与联机帮助-编写-who-命令" class="header-anchor">#</a> 02 - 用户, 文件操作与联机帮助: 编写 who 命令</h2> <h3 id="unix-文件操作"><a href="#unix-文件操作" class="header-anchor">#</a> Unix 文件操作</h3> <ul><li><p>文件操作函数</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">creat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">lseek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>每次系统调用都会导致用户模式和内核模式的切换以及执行内核代码, 减少程序中系统调用次数可以
提高程序运行效率</li></ul></li> <li><p>系统调用</p> <ul><li>程序可以使用缓冲技术来减少系统调用次数, 仅当写缓冲区满或读缓冲区为空时才调用内核服务</li> <li>Unix 内核可以通过内核缓冲区减少访问磁盘 IO 次数</li> <li>当系统调用出错时, 会将全局变量 <code>errno</code> 的值置为响应的错误码, 然后返回 -1</li> <li><code>perror(string)</code> 函数会自动查找错误代码, 在标准错误输出中显示相应的错误信息,
<code>string</code> 为同时显示的描述性信息</li></ul></li></ul> <h3 id="faq"><a href="#faq" class="header-anchor">#</a> FAQ</h3> <ol><li>理解系统调用 <code>open</code> <code>read</code> 和 C 标准库 <code>fopen</code> <code>fread</code> 的原理与区别.</li></ol> <h2 id="_03-目录与文件属性-编写-ls"><a href="#_03-目录与文件属性-编写-ls" class="header-anchor">#</a> 03 - 目录与文件属性: 编写 ls</h2></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/louistin/blog.liteman/edit/master/docs/note/UNIX-LINUX 编程实践教程.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最近更新:</span> <span class="time">2020-05-29 14:46:16 UTC+08:00</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/Linux-UNIX 系统编程手册.html" class="prev">
        Linux-UNIX 系统编程手册
      </a></span> <span class="next"><a href="/note/TCP-IP 详解.html">
        TCP/IP 详解
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div class="reading-progress top" data-v-21b39eda><div class="progress" data-v-21b39eda></div></div><!----></div></div>
    <script src="/assets/js/app.5aa78949.js" defer></script><script src="/assets/js/2.db8a1bd9.js" defer></script><script src="/assets/js/35.31254244.js" defer></script>
  </body>
</html>
